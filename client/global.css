/** @import must precede all other statements */
/* 1. Import Bricolage Grotesque from Google Fonts (Body Text) */
@import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@10..50,200..800&display=swap');

/* NOTE: Cooper Std Black is loaded via the <link> tag in index.html, not here. 
The redundant Satoshi/Cabinet Grotesk imports have been removed. */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Brand palette in HSL (Tailwind expects HSL vars) */
    /* Onyx #0B0E11 */
    /* --background: 40 25% 9%; */
    --background: 210 22% 6%;
    --foreground: 60 8% 95%; /* Off-white #F5F5F2 */

    /* Carbon #111315 surfaces */
    --card: 210 10% 7%;
    --card-foreground: 60 8% 95%;

    --popover: 210 10% 7%;
    --popover-foreground: 60 8% 95%;

    /* Champagne gold as primary */
    /* --primary: 42 46% 56%; #C2A35A */
    /* Deep red color */
    --primary: 0 72% 20%; 
    /* --primary-foreground: 210 22% 6%; Onyx for text on gold */

    /* Off-white for text on primary */
    --primary-foreground: 60 8% 95%;
    

    /* Secondary subtle surfaces (platinum tint for borders etc.) */
    --secondary: 0 0% 75%; /* Platinum #C0C0C0 */
    --secondary-foreground: 210 22% 6%;

    --muted: 210 10% 12%;
    --muted-foreground: 0 0% 80%;

    /* Accent reuses gold for hover accents */
    /* --accent: 42 46% 56%;
    --accent-foreground: 210 22% 6%; */

    /* Accent reuses primary/gold for hover accents */
    --accent: 0 72% 20%; /* Updated from 42 46% 56% */
    --accent-foreground: 210 22% 6%;
    

    --destructive: 0 84% 60%;
    --destructive-foreground: 210 22% 6%;

    --border: 210 10% 18%; /* subtle borders */
    --input: 210 10% 18%;
    /* --ring: 42 46% 56%; */
    --ring: 0 72% 20%; /* Updated from 42 46% 56% */

    --radius: 0.5rem;

    /* Sidebar (not used heavily, keep in theme) */
    --sidebar-background: 210 10% 7%;
    --sidebar-foreground: 60 8% 95%;
    --sidebar-primary: 0 72% 20%; /* Updated from 42 46% 56% */
    --sidebar-primary-foreground: 210 22% 6%;
    --sidebar-accent: 210 10% 12%;
    --sidebar-accent-foreground: 60 8% 95%;
    --sidebar-border: 210 10% 18%;
    --sidebar-ring: 0 72% 20%; /* Updated from 42 46% 56% */

    /* Brand extras */
    --brand-deep-green: 169 50% 11%; /* #0E2A25 */
    --brand-carbon: 210 10% 7%;
    --brand-onyx: 210 22% 6%;
    --brand-gold: 0 72% 20%; /* Updated from 42 46% 56% */
    --brand-platinum: 0 0% 75%;
    --brand-offwhite: 60 8% 95%;
  }

  .dark {
    /* Keep similar but slightly deeper for dark mode */
    --background: 210 22% 5%;
    --foreground: 60 8% 95%;

    --card: 210 12% 6%;
    --card-foreground: 60 8% 95%;

    --popover: 210 12% 6%;
    --popover-foreground: 60 8% 95%;

    --primary: 0 72% 20%; /* Updated from 42 46% 56% */
    --primary-foreground: 210 22% 6%;

    --secondary: 0 0% 75%;
    --secondary-foreground: 210 22% 6%;

    --muted: 210 12% 12%;
    --muted-foreground: 0 0% 82%;

    --accent: 0 72% 20%; /* Updated from 42 46% 56% */
    --accent-foreground: 210 22% 6%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 60 8% 95%;

    --border: 210 12% 16%;
    --input: 210 12% 16%;
    --ring: 0 72% 20%; /* Updated from 42 46% 56% */

    --sidebar-background: 210 12% 6%;
    --sidebar-foreground: 60 8% 95%;
    --sidebar-primary: 0 72% 20%; /* Updated from 42 46% 56% */
    --sidebar-primary-foreground: 210 22% 6%;
    --sidebar-accent: 210 12% 12%;
    --sidebar-accent-foreground: 60 8% 95%;
    --sidebar-border: 210 12% 16%;
    --sidebar-ring: 0 72% 20%; /* Updated from 42 46% 56% */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* Set the primary font to Bricolage Grotesque for all general text */
    font-family: 'Bricolage Grotesque', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  }

  body {
    @apply bg-background text-foreground antialiased;
    background-image: radial-gradient(
        1000px 300px at 50% -10%, hsl(var(--brand-gold)/0.06) 0%, transparent 60%
      ),
      radial-gradient(800px 400px at 100% 0%, hsl(var(--brand-deep-green)/0.08) 0%, transparent 60%),
      linear-gradient(180deg, hsl(var(--background)) 0%, hsl(var(--background)) 100%);
    background-attachment: fixed;
  }

  /* Font for headings (now using the Adobe font-family name) */
  h1, h2, h3, .font-title {
    /* Use the exact font-family name provided by Adobe Fonts */
    font-family: 'cooper-black-std', serif;
    font-weight: 800; /* Use a heavy weight */
    letter-spacing: -0.01em;
  }
}

/* Typewriter cursor */
@keyframes ws-cursor-blink { 0%, 49% { opacity: 1 } 50%, 100% { opacity: 0 } }
.ws-cursor { animation: ws-cursor-blink 0.8s steps(2, end) infinite; }

/* Film grain overlay utility */
.ws-grain:after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0 0 0.08'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  opacity: 0.4;
  mix-blend-mode: soft-light;
}

/* Base style for the rolling text animation */
/* Enhanced text roll container */
.text-roll-container {
  overflow: hidden;
  position: relative;
  height: 1.4em; /* Use em for better scaling with font size */
  display: inline-block;
  line-height: 1.28;
  vertical-align: middle;  /* Prevent baseline issues */
}

.text-roll {
  display: block;
  transition: transform 0.1s ease;
}

.text-roll-original {
  transform: translateY(0%);
}

.text-roll-hover {
  position: absolute;
  top: 0;
  left: 0;
  transform: translateY(100%); /* Start hidden below */
  color: hsl(var(--brand-gold));
}


.underline {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 1px;
  background: hsl(var(--brand-gold));
  display: block;
  transform: scaleX(0);
  transform-origin: left center;
  transition: transform 0.5s ease-in-out(.8,0,.5,1.5);
  z-index: 1;
  pointer-events: none;
}


/* global.css */


.watch-track {
  display: flex;
  flex-wrap: nowrap;
  width: max-content;
}

.watch-slide {
  flex: none;
  width: 100vw;  /* Full viewport width per slide */
}

.will-change-transform {
  will-change: transform;
}





/****************
  Components
*****************/
@layer components {
  .ws-container { @apply container px-6 md:px-8; }
  .ws-button-primary { @apply inline-flex items-center justify-center rounded-md bg-primary text-primary-foreground px-6 py-3 text-sm font-medium shadow-sm hover:brightness-110 transition; }
  .ws-button-secondary { @apply inline-flex items-center justify-center rounded-md border border-platinum/30 px-6 py-3 text-sm font-medium text-foreground hover:bg-muted/30 transition; }

  /* Terminal Industries-like title sequence animation */
  .ti-title-sequence {
    display: inline-block;
    font-family: var(--font-primary, "Satoshi", ui-sans-serif, system-ui, sans-serif);
    font-weight: 400;
    line-height: .95;
    letter-spacing: -0.02em;
    white-space: pre-wrap;
    color: hsl(var(--foreground));
    font-size: min(5.729vw, 146.666px);
  }
  .ti-line { display: block; }
  .ti-char-wrapper { display: inline-block; overflow: hidden; }
  .ti-char {
    display: inline-block;
    transform: translateY(100%);
    opacity: 0;
    animation: ti-reveal-letter var(--ti-duration, 0.9s) var(--ti-ease, cubic-bezier(0,0,.58,1)) forwards;
    animation-delay: calc(var(--ti-index) * var(--ti-stagger, 0.04s) + var(--ti-start-delay, 0s));
    will-change: transform, opacity;
  }
  @keyframes ti-reveal-letter {
    0% { transform: translateY(100%); opacity: 0; }
    60% { transform: translateY(-2px); opacity: 1; }
    100% { transform: translateY(0); opacity: 1; }
  }
  @media (prefers-reduced-motion: reduce) {
    .ti-char { animation: none; transform: none; opacity: 1; }
  }
}